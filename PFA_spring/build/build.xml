<?xml version="1.0" encoding="UTF-8"?>
<project name="PFA BUILD" default="all" basedir="..">

	<target name="all" depends="">
	</target>

	<path id="classpath">
		<fileset dir="${basedir}/lib" includes="**/*.jar" />
		<pathelement path="bin" />
		<pathelement path="resources" />
		<pathelement path="resources/spring" />
	</path>

	<!-- *************************************************************** -->
	<!-- Compile the service. -->
	<!-- *************************************************************** -->
	<target name="compile">
		<delete dir="${basedir}/build/bin" />
		<mkdir dir="${basedir}/build/bin/classes" />
		<javac debug="true" debuglevel="lines,vars,source" verbose="true" srcdir="${basedir}/src" classpathref="classpath" destdir="${basedir}/build/bin/classes" />

	</target>

	<!-- *************************************************************** -->
	<!-- Compile the service. -->
	<!-- *************************************************************** -->
	<target name="package" depends="compile">

	</target>




	<target name="copy">
		<copy todir="/home/kruno/apache-tomcat-7.0.42/webapps">
			<fileset dir="${basedir}">
				<include name="pfa.war" />
			</fileset>
		</copy>

	</target>

	<target name="bring_up">

		<sql driver="org.postgresql.Driver" classpath="postgresql-8.3-607.jdbc3.jar" url="jdbc:postgresql://localhost/pfa" userid="orka" password="orka" autocommit="true" classpathref="classpath">
			<fileset dir="${basedir}/resource/bringup">
				<include name="bringup.sql" />
			</fileset>

		</sql>
	</target>


	<target name="tests">
		<junit printsummary="yes">
			<classpath refid="classpath" />

			<test name="hr.ponge.pfa.service.env.tenant.TenantServiceTest" haltonfailure="no" outfile="result">

				<formatter type="plain" />
				<formatter type="xml" />

			</test>
		</junit>




	</target>

</project>